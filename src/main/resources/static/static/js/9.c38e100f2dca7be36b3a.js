webpackJsonp([9],{3136:function(e,t){},ArVF:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("JBQq"),s={name:"roleAssignment",data:function(){this.$createElement;return{selectedRoleId:"",accountData:[],roleData:[],assignAccount:[],renderFunc:function(e,t){return e("span",[t.username])}}},created:function(){this.initData()},mounted:function(){},computed:{},methods:{initData:function(){var e=this;n.a.get("allRoles",{}).then(function(t){e.roleData=t.data})},handleChange:function(e,t,a){var s=this;if(""===this.selectedRoleId)this.$alert("请选择需要分配的角色！","警告",{confirmButtonText:"确定"});else if("left"===t)n.a.del("roleAccount",{roleId:this.selectedRoleId,accountIds:a}).then(function(e){200===e.httpCode?s.$message({type:"success",message:"取消分配成功！"}):s.$message({type:"error",message:"取消分配失败！"})});else if("right"===t){var c={roleId:this.selectedRoleId,accountIds:a};n.a.post("roleAccount",c).then(function(e){200===e.httpCode?s.$message({type:"success",message:"分配成功！"}):s.$message({type:"error",message:"分配失败！"})})}},roleChange:function(e){var t=this;this.selectedRoleId=e,n.a.get("allAccounts",{}).then(function(e){t.accountData=e.data}),n.a.get("getAccountByRoleId",{roleId:e}).then(function(e){500===e.httpCode?t.assignAccount=[]:t.assignAccount=e.data})}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-tickets"}),e._v("角色分配")])],1)],1),e._v(" "),a("div",{ref:"container",staticClass:"container"},[a("div",{staticClass:"role_filter"},[a("p",{staticClass:"role_title"},[e._v("选择角色：")]),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:"请选择"},on:{change:e.roleChange},model:{value:e.selectedRoleId,callback:function(t){e.selectedRoleId=t},expression:"selectedRoleId"}},e._l(e.roleData,function(e){return a("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"role_trans"},[a("p",{staticClass:"role_title"},[e._v("选择需要分配的账号列表：")]),e._v(" "),a("el-transfer",{attrs:{filterable:"","render-content":e.renderFunc,titles:["未分配","已分配"],"button-texts":["取消","分配"],format:{noChecked:"${total}",hasChecked:"${checked}/${total}"},props:{key:"id",label:"username"},data:e.accountData},on:{change:e.handleChange},model:{value:e.assignAccount,callback:function(t){e.assignAccount=t},expression:"assignAccount"}})],1)])])},staticRenderFns:[]};var l=a("VU/8")(s,c,!1,function(e){a("3136")},null,null);t.default=l.exports}});