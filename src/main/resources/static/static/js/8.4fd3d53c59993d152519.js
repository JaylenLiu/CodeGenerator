webpackJsonp([8],{"h/by":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("JBQq"),n={name:"resAssignment",data:function(){this.$createElement;return{selectedRoleId:"",resData:[],roleData:[],assignRes:[],renderFunc:function(e,t){return e("span",[t.resName])}}},created:function(){this.initData()},computed:{},mounted:function(){},methods:{initData:function(){var e=this;a.a.get("allRoles",{}).then(function(t){e.roleData=t.data})},handleChange:function(e,t,s){var n=this;if(""===this.selectedRoleId)this.$alert("请选择需要分配的角色！","警告",{confirmButtonText:"确定"});else if("left"===t)del("roleRes",{roleId:this.selectedRoleId,resIds:s}).then(function(e){200===e.httpCode?n.$message({type:"success",message:"取消分配成功！"}):n.$message({type:"error",message:"取消分配失败！"})});else if("right"===t){var l={roleId:this.selectedRoleId,resIds:s};a.a.post("roleRes",l).then(function(e){200===e.httpCode?n.$message({type:"success",message:"取消分配成功！"}):n.$message({type:"error",message:"取消分配失败！"})})}},roleChange:function(e){var t=this;this.selectedRoleId=e,a.a.get("allRes",{}).then(function(e){t.resData=e.data}),a.a.get("getResByRoleId",{roleId:e}).then(function(e){501===e.httpCode?t.assignRes=[]:t.assignRes=e.data})}}},l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"table"},[s("div",{staticClass:"crumbs"},[s("el-breadcrumb",{attrs:{separator:"/"}},[s("el-breadcrumb-item",[s("i",{staticClass:"el-icon-tickets"}),e._v("资源分配")])],1)],1),e._v(" "),s("div",{ref:"container",staticClass:"container"},[s("div",{staticClass:"role_filter"},[s("p",{staticClass:"role_title"},[e._v("选择角色：")]),e._v(" "),s("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:"请选择"},on:{change:e.roleChange},model:{value:e.selectedRoleId,callback:function(t){e.selectedRoleId=t},expression:"selectedRoleId"}},e._l(e.roleData,function(e){return s("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})}))],1),e._v(" "),s("div",{staticClass:"role_trans"},[s("p",{staticClass:"role_title"},[e._v("选择需要分配的资源列表：")]),e._v(" "),s("el-transfer",{staticStyle:{"text-align":"left",display:"inline-block"},attrs:{filterable:"","render-content":e.renderFunc,titles:["未分配","已分配"],"button-texts":["取消","分配"],format:{noChecked:"${total}",hasChecked:"${checked}/${total}"},props:{key:"id",label:"resName"},data:e.resData},on:{change:e.handleChange},model:{value:e.assignRes,callback:function(t){e.assignRes=t},expression:"assignRes"}})],1)])])},staticRenderFns:[]};var r=s("VU/8")(n,l,!1,function(e){s("o8j8")},null,null);t.default=r.exports},o8j8:function(e,t){}});